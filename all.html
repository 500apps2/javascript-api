<html>
  
  <head>
  </head>
  
  <body>
    						<!--Set your AgileCRM domain name-->
    <script type="text/javascript" src="https://YOUR_DOMAIN.agilecrm.com/stats/min/agile-min.js">
    </script>
    <script type="text/javascript">
    _agile.set_account('YOUR_API_KEY', 'YOUR_DOMAIN'); // Set your AgileCRM API Key and domain name
    _agile.track_page_view();
    </script>
    
    <script type="text/javascript">

// Set contact email address
function set_email() {
  _agile.set_email("agilecrm@example.com");
}

// Execute multiple API
function create_contact() {

  _agile.create_contact({
    "email": "agilecrm@example.com",
    "first_name": "Test",
    "last_name": "Contact",
    "tags": "tag1",
    "company": "abc corp",
    "website": "http://www.example.com",
    "phone": "+1-541-754-3010"
  }, {

    success: function add_score() {

      _agile.add_score(50, {

        success: function add_tag() {

          _agile.add_tag('tag2, tag3, tag4, tag5', {

            success: function add_note() {

              _agile.add_note({
                "subject": "Test Note",
                "description": "This is a test note"
              }, {

                success: function add_task() {

                  _agile.add_task({
                    "type": "MEETING",
                    "priority_type": "HIGH",
                    "subject": "This is a test meeting",
                    "due": "1376047332"
                  }, {

                    success: function add_deal() {

                      _agile.add_deal({
                        "name": "Test Deal",
                        "description": "This is a test deal",
                        "expected_value": "10000",
                        "milestone": "won",
                        "probability": "95",
                        "close_date": "1376047332"
                      }, {
                        success: function(data) {
                          console.log("success");
                        },
                        error: function(data) {
                          console.log("add deal error")
                        }
                      });
                    },
                    error: function(data) {
                      console.log("add task error");
                    }
                  });
                },
                error: function(data) {
                  console.log("add note error");
                }
              });
            },
            error: function(data) {
              console.log("add tag error");
            }
          });
        },
        error: function(data) {
          console.log("add score error")
        }
      });
    },
    error: function(data) {
      console.log("create contact error");
    }
  });
}
    </script>
    Agile CRM JavaScript API Test
    <script type="text/javascript">
    set_email();	// Set contact (to track and execute API on contact)
    create_contact();	// Includes functions to add score, tags, note, task & deal
    </script>
  </body>

</html>
